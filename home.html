<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
	<head>
		<title>HOME</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

<style type="text/css">

	body{
		background-color: #e7dfd4;
	}

	.table1 {
		border-top:2px solid black; 
		background:#D8D8D8;
		padding:5px;
		margin-top:5px;
		margin-left:47px;
		margin-right:47px;
		padding-left:28px;
		font-size:15px;
	}

	.table2 {
		border-top:2px solid black;
		background-color:#F7F8E0;
                margin-top:5px;
                margin-left:47px;
                margin-right:47px;
                padding-left:28px;
                font-size:15px;
	}
	
	table {
		width: 80%;
		border-top: 1px solid #444444;
		border-collapse: collapse;
		margin-left: auto;
		margin-right: auto;
	}

	th {
		border-bottom: 1px solid #444444;
		padding: 10px;
		background-color: rgba(255, 255, 255, 0.7);

	}
	
	td {
		border-bottom: 1px solid #444444;
		padding; 10px;
		background-color: rgba(255, 255, 255, 05);
	}

	#loading {
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
                position: fixed;
                display: block;
                opacity: 0.8;
                background: white;
                z-index: 99;
		text-align: center;
	}
	#loading > img {
		position: absolute;
                top: 50%;
                left: 50%;
                z-index: 100;
	}


</style>

   		 <script language="javascript">

                        function popup_tfidf(frm) {
                                var url    ="/home/word_analysis";
                                var title  = "word_pop";
                                var status = "toolbar=no,directories=no,scrollbars=no,resizable=no,status=no,menubar=no,width=600, height=800, top=0,left=20";
                                window.open("", title,status);
                                frm.target = title;
                                frm.action = url;
                                frm.method = "post";
                                frm.submit();
                        }

			function popup_cosine(frm) {
                                var url    ="/home/cosine_similarity";
                                var title  = "sim_pop";
                                var status = "toolbar=no,directories=no,scrollbars=no,resizable=no,status=no,menubar=no,width=600, height=800, top=0,left=20";
                                window.open("", title,status);
                                frm.target = title;
                                frm.action = url;
                                frm.method = "post";
                                frm.submit();
                        }

                </script>


	</head>
	<body>
		{% if ERROR %}
			<script type="text/javascript">
				alert('{{ ERROR }}');
			</script>
		{% endif %}
             
             
<br></br>
			<div class="text-center" style="display:block;width:1000px;margin:0 auto;position:relative;">
				<form method="POST" action="/home/textInput">
	
					<span style=padding:50px;font-size:25px;font-familiy:Geogia;"><strong>Enter the URL&nbsp&nbsp ▶ </strong></span>
	
					<input name="URL" type="text"style="width:450px;height:40px;font-size:25px;">
			
					<button type="submit" name="process" value="Process" class="btn btn-info" onclick="$('#loading').show();">Result</button>
				</form>

				<form action="/">
					<input type="button" name="report" value="Reset" class="btn btn-info">
				</form>
			</div>

			<div class="text-center">
				<form action = "http://localhost:5000/home/fileUpload" method = "POST" enctype = "multipart/form-data">
				<span style="padding:50px; font-size:25px;"><strong>Submit URL File&nbsp&nbsp ▶ </strong></span>
				
					<input class="text-center" type = "file" name = "file" />
					<input class="btn btn-info"type = "submit" value="Submit" onclick="$('#loading').show();"/>
					<br>

			</div>
			</form> <br></br>

			<div id="loading" style="display:none;" >
                                <img src="{{ url_for('static', filename='img/loading_text.gif') }}" />
                        </div>

			</div>
				<div style="width:100%; height:600px; overflow:scroll">
                                	<table class="text-center">
												<thead>
													<tr class="text-center">
													<th>Number</th><th>URL</th><th>Total Number of Words</th><th>Processing Time</th><th>Top 10 Words</th><th>Top 3 Urls</th>
												</thead>
											<div id="loading">
											<img SRC="https://img1.daumcdn.net/thumb/R1920x0/?fname=http%3A%2F%2Fcfile1.uf.tistory.com%2Fimage%2F9950163C5AFE32810A7310">
											</div>
											<tbody>

								{% for i in range(numbers) %}
												<tr>
													<td>{{ i+1 }}.</td>
                                       									<td><a href="{{ urlList[i] }}" target="_blank">{{ urlList[i] }}</a></td>
													<td>{{ countList[i] }}</td>
													<td>{{ time[i] }}</td>
                                       									<td>	<form name="form">
                                                									<input type="hidden" name="index" value='{{ i }}'>
                                                									<input class="btn btn-info" style="margin-top:12px;"type="button" value="Word Analysis" onclick="javascript:popup_tfidf(this.form);">
														</form>
													</td>

													
													<td>	
														<form name="form">
															<input type="hidden" name="index" value='{{ i }}'>
															<input class="btn btn-info"  style="margin-top:12px;" type="button" value="Similarity" onclick="javascript:popup_cosine(this.form);">
														</form>
													</td>
												</tr>
                						{% endfor %}
											</tbody>
											</div>
										</table>

		</div>
	</body>
</html>
